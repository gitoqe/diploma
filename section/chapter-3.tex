\section{Разработка Web-ресурса для учебного центра «Мезон»}

На основании технологий и требований, выделенных в главах 1 и 2 можно составить краткий план выполнения практической части работы.
Необходимо обеспечить процесс разработки документацей и планами вносимых изменений.

В первую очередь необходимо подготовить схему планируемой функциональной структуры ресурса.
На основании данной схемы будут строится взаимосвязи между программными решениями, используемыми для разработки и дальнейшей работы сайта.

Следующий этап -- формирование структурной схемы веб-ресурса.
В её задачи будет входить упрощенное описание компонентов-страниц сайта, расположение и отношение между ними.
Этот шаг позволит с пониманием общей картины подходить к разработке отдельных частей ресурса.

Следующим важным решением будет выделение ключевых сущностей для хранения в базе данных, их взаимоотношения и зависимостей.
На основе этих данных будут строится отдельные компоненты страниц веб-ресурса с использованием шаблонов.


\subsection{Функциональная структура ресурса}

Исходя из определенных для использования в главах 1 и 2 программных средств, можно составить функциональную структуру ресурса.
Она призвана отобразить основные элементы системы, обеспечивающие работу элементов сайта, а также взаимосвязи между ними.

Выбранными элементами стека MEAN с внесёнными правками являются -- SQLite в роли СУБД, Express и Node.js для организации серверной части приложения, Angular для работы с клиентской частью.
Также стоит упомянуть CSS-библиотеку Bulma, которая также будет задействована в данной работе.
На основе приведенных программных средств составлена схема функциональных элементов на рисунке \ref{func-struct-scheme}.

\addimghere{images/функциональная-структура.png}{0.5}{Функциональная структура веб-ресурса}{func-struct-scheme}


\subsection{Анализ структуры исходного ресурса}\label{Анализ структуры исходного ресурса}

Главная страница исходного сайта содержит 4 основных раздела -- «Главная», «Сведения об организации», «Обучение», «Аренда».
Также здесь расположены различные вспомогательные ссылки, реализующие переходы на некоторые ключевые разделы ресурса.
Схема основных переходов внутри главной страницы отображена на рисунке \ref{meson-old-main}.

\addimghere{images/главная.png}{1}{Схема строения переходов исходного веб-ресурса}{meson-old-main}

В схеме на рисунке \ref{meson-old-main} отметкой <<(неактуально)>> помечены переходы на неактуальные страницы, которые по разным причиным либо давно не обновлялись, либо отсутствуют вовсе.
При этом основными функциональными элементами на главной странице являются ссылки «Расписание», «Стоимость» и «Брошюра».
Взаимодействие с данными, представленными на целевых страницах этих ссылок содержит самую полезную информацию, которая может потребоваться для клиентов учреждения.
Помимо этого, контент этих элементов частично дублируется и частично взаимно противоречит.

Раздел «Сведения об организации» содержит наибольшее количество вложенных страниц - «Основные сведения», «Документы», «Образование», «Образовательные стандарты», «Руководство и педагогический состав», «Структура и органы управления», «Материально-техническое обеспечение и оснащенность образовательного процесса», «Стипендии и иные виды материальной поддержки», «Платные образовательные услуги», «Финансово-хозяйственная деятельность», «Вакантные места для приема (перевода)».
Большая часть содержимого этих подстраниц либо дублируется в других частях ресурса, либо является вовсе неактуальной.

Раздел «Обучение» состоит из подразделов «Компьютерная школа», «Лаборатории инновационного творчества», «Школа личностного роста», «ИТ-курсы для взрослых».
Содержимое этих частей ресурса по большей части устарело и является неактуальным.

Раздел «Аренда» содержит информацию об аренде помещений учебного центра.
Часть информации данной страницы является неактуальной.
Подразделы здесь отсутствуют.

Помимо переходов на обозначенные разделы со страницы «Главная», также есть необозначенные там три -- «Независимая оценка качества», «Противодействие коррупции», «Инклюзивное образование».
Состав этих элементов также является частично неактуальным.

% // TODO sitemapmaker - карта переходов исходного сайта

Таким образом можно сделать вывод о заброшенности большинства разделов сайта.
Часть этих страниц можно актуализировать и восстановить в новой версии, а часть объединить с другими.


\subsection{Структура проектируемого ресурса}

На основе проведенного в подпункте \ref{Анализ структуры исходного ресурса} анализа можно выделить ключевые разделы проектируемого веб-ресурса с учетом объединения и перестановки исходных.
В результате получатся следующие пункты: «Поступление», «Курсы», «Расписание», «Работы учеников», «Об организации», «Оплата и аренда».

Раздел «Поступление» рассказывает пользователю о правилах записи на курсы учебного центра.

Раздел «Курсы» представляет клиенту набор имеющихся для проведения курсов обучения с возможностью подробного рассмотрения особенностей каждого из них в отдельности.

Раздел «Расписание» включает в себя расписание занятий групп на учебный год, позволяет оперативно сориентировать клиентов касательно неучебных дней в организации.

Раздел «Работы учеников» представляет клиентам возможность ознакомиться с выставленными работами студентов разных направлений.

Раздел «Об организации» содержит информацию о компании, руководстве, а также обширный набор вспомогательной документации, полезной для ознакомления.

Раздел «Оплата и аренда» содержит информацию о способах оплаты услуг учебного центра и предоставляемых в аредну помещениях.

Также стоит отметить точку входа на сайт -- раздел «Главная», встречающий пользователя.
Здесь описываются функциональные модули-страницы сайта и их содержимое, а также осовные данные об учебном центре.

На основании приведенных разделов можно сформировать структурную схему веб-ресурса, отображающую получившуюся иерархию страниц.
Результат формирования такой структуры представлен на Рисунке \ref{struct-scheme}.

\addimghere{images/структура-ресурса.png}{1}{Структурная схема проектируемого веб-ресурса}{struct-scheme}

Упрощение базовой структуры облегчит взаимодействие с информацией на сайте.
Также будет проще пользоваться ресурсом на мобильных устройствах.


\subsection{Выделение основных сущностей и построение полной атрибутивной модели данных}

В работе любой системы задействуются данные.
Их можно классифицировать по различным признакам, на основе которых можно выделить общий набор характеристик и хранить их в единообразном хранилище -- базе данных.

Для разрабатываемого ресурса будут задействованы возможности СУБД SQLite.
Важно учитывать особенность данной СУБД -- наличие ограниченного списка базовых типов данных.
В него входят NULL для пустых значений, INTEGER для целочисленных значений разного размера с учетом знака, REAL для храенения вещественных значений, TEXT для хранения строк, BLOB для хранения двоичных объектов.
Среди имеющегося на исходном сайте контента можно выделить несколько сущностей, доступных для переноса в формат базы данных.

Первая таблица -- <<Courses>>.
Предназначен для хранения информации о конкретном курсе.
В общие характеристики-поля можно выделить имя, описание, стоимость, тип оплаты -- за месяц или занятие, прямое продолжение курса, уровень курса -- дошкольный или школьный, класс или возраст в зависимости от уровня курса, длительность занятия, список тем.
Схема данной таблицы представлена на рисунке \ref{uml-courses}.
\addimghere{images/uml-courses.png}{0.35}{Схема таблицы <<Courses>>}{uml-courses}

Вторая таблица -- <<Levels>>
Это вспомогательная таблица содержит поле для выбора в таблице <<Courses>> -- наименование уровня.
Схема данной таблицы представлена на рисунке \ref{uml-levels}.
\addimghere{images/uml-levels.png}{0.35}{Схема таблицы <<Levels>>}{uml-levels}

Третья таблица -- <<Students\_work>>.
Эта таблица будет хранить данные для представления на странице итоговых работ студентов с разных курсов.
Для её работы потребуются следующие поля -- соответствующий курс, опциональное имя студента, год выполнения работы, ссылка на работу.
Схема данной таблицы представлена на рисунке \ref{uml-students_work}.
\addimghere{images/uml-students_work.png}{0.35}{Схема таблицы <<Students\_work>>}{uml-students_work}

Четвертая таблица -- <<Employees>>.
Сюда можно отнести данны о преподавательском составе.
Выделяемые поля -- фамилия, имя, отчество, должность, образование, год начала работы, педагогический стаж.
Схема данной таблицы представлена на рисунке \ref{uml-employees}.
\addimghere{images/uml-employees.png}{0.35}{Схема таблицы <<Employees>>}{uml-employees}

На данном этапе возникает необходимость в перечислении нескольких значений в составе одной ячейки.
Можно выполнить такую задачу через применение связующей таблицы, где будут перечислены соотношения между записями отдельных таблиц.

Пятая таблица -- <<Teaches>>.
Данная таблица -- связующая между таблицами <<Employees>> и <<Courses>>.
В её задачи входит перечисление соответствий сотрудников преподаваемым ими курсам.
Схема данной таблицы представлена на рисунке \ref{uml-teaches}.
\addimghere{images/uml-teaches.png}{0.35}{Схема таблицы <<Teaches>>}{uml-teaches}

Итоговый вид базы данных с таблицами, используемыми в формировании наполнения веб-ресурса представлен на рисунке \ref{uml-final}.
\addimghere{images/uml-final.png}{0.6}{Структура таблиц базы данных, участвующих в формировании содержимого веб-ресурса}{uml-final}


%\subsection{Выделение основных сущностей администрирования веб-ресурса}

Помимо использования контента, расположенного в базе данных, веб-ресурсу также требуется возможность редактирования исходной информации.
Для таких задач может подойти и обычные программные средства СУБД, так и решения встроенные непосредственно в сайт.

Осуществление данной задачи потребует контроля доступа к функционалу радактирования.
Вместе с этим возникает необходимость хранения данных для его активации.
Для этой задачи можно воспользоваться отдельной таблицей для записи пар логинов и паролей пользователей, обладающих правами редактора содержимого веб-ресурса.

В реализации подходящей таблицы должно быть несколько обязательных полей.
В них входят -- логин пользователя, пароль пользователя, уникальный идентификатор, а также вспомогательный уникальный токен для использования в процессе авторизации.
Схема данной таблицы представлена на рисунке \ref{uml-users}.
\addimghere{images/uml-users.png}{0.35}{Структура таблицы <<Users>>}{uml-users}

На основании представленных схем таблиц базы данных, а также описания полей в них содержащихся, можно сформировать общую картину приложения с точки зрения хранимой информации.
При этом важно учесть сущности, атрибуты и связи.

Указанные в формируемой схеме типы будут соответствовать применяемым в SQLite -- INTEGER, BLOB, TEXT и FLOAT соответственно.
Внешние ключи помечены как сокращение от <<foreign key>> -- <<FK>>, а первичный ключ от <<primary key>> -- <<PK>>.
За данную задачу отвечает полная атрибутивная модель данных, показанная на рисунке \ref{uml-attr-model}.
\addimghere{images/uml-attr-model.png}{0.7}{Полная атрибутивная модель данных проектируемого веб-ресурса}{uml-attr-model}


\subsection{Разработка функциональной модели веб-ресурса}

Для построения функциональной модели веб-ресурса можно воспользоваться методологией IDEF0 \cite{wiki-idef0}.
Для этого потребуется сначала оформить контекстную диаграмму проектируемого веб-ресурса, что в свою очеред означает необходимость выделить абстрактное общее описание системы.

Далее можно углубляться в указанные на схеме элементы.
Такой подход позволяет на разных уровнях информационной обеспеченности протекающими процессами поэтапно проанализировать каждый из них с желаемой степенью подробности.

В процессе составления элементов диаграммы могут возникать дополнительные вопросы к частям проектируемого веб-ресурса, что приведет к повышению проработанности как конкретных составляющих, так и системы в целом.

Построенная контекстная диаграмма IDEF0 отображена на рисунке \ref{idef0-drawio}.
\addimghere{images/idef0.drawio.png}{0.9}{Контекстная диаграмма  IDEF0}{idef0-drawio}

В методологии IDEF0 организация модулей и их взаимодействие между собой и внешним миром обозначается с помощью стрелок, каждой сопоставляется своя роль.

Входящая информация, используемая блоком получается от стрелки входа, она присоединяется к блоку слева.
Управляющие указания поступают сверху от модуля.
Механизмом или исполнителем является стрелка, примыкающая снизу от блока.
Выход отображается как исходящая из правой кромки модуля стрелка.

Описание стрелок, их типы и характеристики применительно к построенной контекстной диаграмме представлено в таблице \ref{table-context-diagram}.

\begin{small}
\begin{longtable}[h]{| p{5.8cm} | p{7.8cm} | c |}
    \caption{Описание элементов контекстной диаграммы}\label{table-context-diagram}\\
    \hline
    \centering Название стрелки&
    \centering Описание&
    Тип\\
    \hline
    \centering 1&
    \centering 2&
    3\\
    \hline\endfirsthead
    \multicolumn{3}{@{}l}{Продолжение таблицы <<Описание элементов контекстной диаграммы>> \ref{table-context-diagram}}\\
    \hline
    \centering 1&
    \centering 2&
    3\\
    \endhead

    Пользовательское соглашение&
    Пользовательское соглашение, содержащее условия использования функционала сайта, между клиентом-пользователем портала и администратором-владельцем веб-ресурса&
    Control\\

    \hline
    Администратор сайта&
    Производит сбор, проверку и редакруту входящей информацию в соответствии с требованиями учебного центра&
    Mechanism\\

    \hline
    Информация о курсах&
    Информация о курсах, предлагаемых учебным центром, их описание и план занятий&
    Input\\
    \hline
    Информация о поступлении&
    Информация о необходимых документах, стоимости обучения и предлагаемых скидках&
    Input\\
    \hline
    Информация о расписании&
    Информация о расписании активных групп учебного центра&
    Input\\
    \hline
    Информация о работах учеников&
    Информация о примерах работ учеников различных курсов&
    Input\\
    \hline
    Информация об организации&
    Информация о коллективе, документация и сведениях об учебном центре&
    Input\\
    \hline
    Информация об оплате и аренде&
    Информация о способах оплаты обучения и предлагаемых услугах аренды помещений&
    Input\\

    \hline
    Компонент с информацией о курсах&
    Информационный блок, содержащий отредактированные и отобранные данные о проводимых курсах, их описании и плане занятий&
    Output\\
    \hline
    Компонент с информацией о поступлении&
    Информационный блок, содержащий отредактированные и отобранные данные о необходимых документах, стоимости обучения и предлагаемых скидках&
    Output\\
    \hline
    Компонент с информацией о расписании&
    Информационный блок, содержащий отредактированные и отобранные данные о расписании активных групп учебного центра&
    Output\\
    \hline
    Компонент с информацией о работах учеников&
    Информационный блок, содержащий отредактированные и отобранные данные о примерах работ учеников различных курсов&
    Output\\
    \hline
    Компонент с информацией об организации&
    Информационный блок, содержащий отредактированные и отобранные данные о коллективе, документации и сведениях об учебном центре&
    Output\\
    \hline
    Компонент с информацией об оплате и аренде&
    Информационный блок, содержащий отредактированные и отобранные данные о способах оплаты обучения и предлагаемых услугах аренды помещений&
    Output\\
    \hline
\end{longtable}
\end{small}

Следующим этапом формирования функциональной модели деятельности веб-ресурса является более глубокий разбор полученной схемы.
Для этого необходимо провести декомпозицию первого уровня готовой диаграммы IDEF0.
В данном случае необходимо разобрать процесс <<Работа веб-ресурса учебного центра>> на состовляющие.

Можно выделить следующие этапы: <<Взаимодействие с преподавательским составом и руководством УЦ>>, <<Внесение изменений в базу данных веб-ресурса УЦ>>, <<Проверка и формирование готовых компонентов веб-ресурса>>.

Результат проведения декомпозиции первого уровня над полученной диаграммой IDEF0 отображен на рисунке \ref{idef0-decompose-1}.
\addimghere{images/idef0-decompose-1.drawio.png}{1.0}{Декомпозиция первого уровня исходной диаграммы IDEF0}{idef0-decompose-1}

В полученной схеме можно провести еще один этап декомпозиции -- блок <<Проверка и формирование готовых компонентов веб-ресурса>> состоит из частей <<Проверка связей между базой данных и компонентами>>, <<Внесение изменений в компоненты>> и <<Проверка корректности работы компонента>>.
Результат проведения декомпозиции второго уровня над этим блоком отображен на рисунке \ref{idef0-decompose-2}.
\addimghere{images/idef0-decompose-2.drawio.png}{1.0}{Декомпозиция второго уровня исходной диаграммы IDEF0}{idef0-decompose-2}

\subsection{Разработка диаграммы вариантов использования}

Диаграмма вариантов использования поможет отобразить отношения между активными участниками процесса использования веб-ресурса и различными типами взаимодействия.
На основе этих связей можно будет выявить способы решения задач пользователей системы.
На рисунке \ref{variants-both} отображены диаграммы вариантов использования для разрабатываемого веб-ресурса применительно к роли администратора и пользователя.

\addimghere{images/variants-both.drawio.png}{0.6}{Диаграмма вариантов использования для администратора и пользователя}{variants-both}

Возможности администратора ограничены взаимодействием с отображаемым контентом сайта -- редактированием, добавлением и удалением информации в базе данных, а также внесением правок в состав компонентов.
Варианты взаимодействия пользователя описываются стандартным набором вариантов взаимодействия на сайтах.
В этот набор входим просморт информации, переключение между разделами, использование формы связи и переход на прочие ресурсы учебного центра.

\subsection{Разработка диаграммы деятельности}
% // TODO Диаграмма деятельности разрабатываемого портала

Диаграмма деятельности пользователей разрабатываемого портала отображена на рисунке \ref{occupation}.

\addimghere{images/occupation.drawio.png}{0.7}{Диаграмма деятельности пользователей разрабатываемого портала}{occupation}

В задачи данной диаграммы входит отображение в формате, схожем с блок-схемой алгоритма, различных путей прохождения этапов взаимодействия с веб-ресурсом.

Прямое взаимодействие начинается с загрузки частей веб-ресурса, в которые входят файлы скриптов, гипертекстовой разметки, каскадных таблиц стилей, а также используемые медиа-файлы.
Далее производится отображение загруженного контента в виде главной страницы, которая будет содержать в себе остальные компоненты сайта.
Первоначально в этот контейнер помещается домашняя страница, с которой уже можно перейти на побочные.

Последующие варианты взаимодействия зависят от потребностей пользователя -- можно как ознакомится с содержимым прочих разделов, а можно воспользоваться адресной строкой браузера для ввода адреса скрытого компонента авторизации.

При переходе на страницу входа администратора отобразится форма входа.
Здесь можно ввести заранее известные данные для входа -- логин и пароль, после проверки которых будет либо открыт доступ к содержимому страницы-редактора содержимого других компонентов, где можно рассмотреть и внести правки в отобпажаемый контент.
После завершения взаимодействия с содержимым ресурса с позиции администратора, можно выйти произвести операцию выхода из этого режима.
В случае ввода некорректных данных в форму логина будет выдано сообщение об ошибке с возможностью повторного ввода данных.

\clearpage
